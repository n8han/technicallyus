<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <title>VideoProject.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style">
    </head>
    <body>
        <pre>
<span class="keyword">package</span> spde

<span class="keyword">import</span> sbt._
<span class="keyword">import</span> java.io.File
<span class="keyword">import</span> java.net.URL
<span class="keyword">import</span> FileUtilities.{copyFlat, unzip, withTemporaryDirectory =&gt; tempDirectory}

<span class="comment">// applet export not yet tested</span>
<span class="keyword">class</span> <a title="class DefaultVideoProject extends sbt.DefaultProject with spde.SpdeProject with ScalaObject" id="6179">DefaultVideoProject</a>(<a title="sbt.ProjectInfo" id="17377">info</a>: <span title="sbt.ProjectInfo">ProjectInfo</span>) <span class="keyword">extends</span> <a title="sbt.DefaultProject" id="8425">DefaultProject</a>(<a href="#17377" title="sbt.ProjectInfo">info</a>) <span class="keyword">with</span> <a href="SpdeProject.scala.html#6171" title="spde.SpdeProject">SpdeProject</a>

<span class="keyword">trait</span> <a title="trait GSVideoProject extends sbt.BasicScalaProject with ScalaObject" id="6180">GSVideoProject</a> <span class="keyword">extends</span> <a title="sbt.BasicScalaProject" id="10753">BasicScalaProject</a>{
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="17379">gsvideoMainVersion</a> = <span title="java.lang.String(&quot;0.6&quot;)" class="string">&quot;0.6&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="17380">gsvideoVersion</a> = <a href="#17379" title="=&gt; java.lang.String">gsvideoMainVersion</a> <a title="(Any)java.lang.String" id="5743">+</a> <span title="java.lang.String(&quot;-pre0&quot;)" class="string">&quot;-pre0&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="17381">gsvideoName</a> = <span title="java.lang.String(&quot;gsvideo&quot;)" class="string">&quot;gsvideo&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="17382">gsvideoArtifactExt</a> = <span title="java.lang.String(&quot;zip&quot;)" class="string">&quot;zip&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="17383">gsvideoArtifactName</a> = &lt;x&gt;{<a href="#17381" title="=&gt; java.lang.String">gsvideoName</a>}<span title="scala.xml.Text">-</span>{<a href="#17380" title="=&gt; java.lang.String">gsvideoVersion</a>}.{<a href="#17382" title="=&gt; java.lang.String">gsvideoArtifactExt</a>}&lt;/x&gt;.<a title="=&gt; String" id="18502">text</a>
  <span class="keyword">val</span> <a title="sbt.Configuration" id="17384">gsvideoConf</a> = <span title="object sbt.Configurations">Configurations</span>.<a title="(String)sbt.Configuration" id="17402">config</a>(<a href="#17381" title="=&gt; java.lang.String">gsvideoName</a>)
  <span class="keyword">def</span> <a title="=&gt; java.net.URL" id="17386">gsvideoURL</a> = <a title="(java.lang.String)java.net.URL" id="18154" class="keyword">new</a> <a title="java.net.URL" id="4338">URL</a>( &lt;x&gt;<span title="scala.xml.Text">http</span>:<span class="comment">//sourceforge.net/projects/{gsvideoName}/files/{gsvideoName}/{gsvideoMainVersion}/{gsvideoArtifactName}/download&lt;/x&gt;.text )</span>

  <span class="keyword">val</span> <a title="sbt.ModuleID" id="17387">jna</a> = <a href="#6180" title="implicit sbt.ManagedProject.toGroupID : (String)sbt.GroupID" class="string">&quot;jna&quot;</a> <span title="(String)sbt.GroupArtifactID">%</span> <span title="java.lang.String(&quot;jna&quot;)" class="string">&quot;jna&quot;</span> <span title="(String)sbt.ModuleID">%</span> <span title="java.lang.String(&quot;3.0.9&quot;)" class="string">&quot;3.0.9&quot;</span> <span title="(String)sbt.ModuleID">from</span>(<span title="java.lang.String(&quot;http://gstreamer-java.googlecode.com/files/jna-3.0.9.jar&quot;)" class="string">&quot;http://gstreamer-java.googlecode.com/files/jna-3.0.9.jar&quot;</span>)
  <span class="keyword">val</span> <a title="sbt.ModuleID" id="17389">gstreamerJava</a> = <a href="#6180" title="implicit sbt.ManagedProject.toGroupID : (String)sbt.GroupID" class="string">&quot;gstreamer.java&quot;</a> <span title="(String)sbt.GroupArtifactID">%</span> <span title="java.lang.String(&quot;gstreamer-java&quot;)" class="string">&quot;gstreamer-java&quot;</span> <span title="(String)sbt.ModuleID">%</span> <span title="java.lang.String(&quot;1.2&quot;)" class="string">&quot;1.2&quot;</span> <span title="(String)sbt.ModuleID">from</span>(<span title="java.lang.String(&quot;http://gstreamer-java.googlecode.com/files/gstreamer-java-1.2.jar&quot;)" class="string">&quot;http://gstreamer-java.googlecode.com/files/gstreamer-java-1.2.jar&quot;</span>)
  <span class="keyword">val</span> <a title="sbt.ModuleID" id="17391">gsvideo</a> = <a href="#6180" title="implicit sbt.ManagedProject.toGroupID : (String)sbt.GroupID">gsvideoName</a> <span title="(String)sbt.GroupArtifactID">%</span> <a href="#17381" title="=&gt; java.lang.String">gsvideoName</a> <a href="#6180" title="implicit sbt.ManagedProject.moduleIDConfigurable : (sbt.ModuleID)sbt.ModuleIDConfigurable" id="12968">%</a> <a href="#17380" title="=&gt; java.lang.String">gsvideoVersion</a> <a title="(String)sbt.ModuleID" id="15042">%</a> (<a href="#17384" title="implicit scala.Predef.any2stringadd : (Any)scala.runtime.StringAdd" id="6074">gsvideoConf</a> <a title="(String)java.lang.String" id="14826">+</a> <span title="java.lang.String(&quot;-&gt;default&quot;)" class="string">&quot;-&gt;default&quot;</span>) <a title="(sbt.Artifact*)sbt.ModuleID" id="13806">artifacts</a>(<a href="#17393" title="=&gt; sbt.Artifact">gsvideoArtifact</a>)
    <span class="keyword">def</span> <a title="=&gt; sbt.Artifact" id="17393">gsvideoArtifact</a> = <a title="(String,String,String,Option[String],Iterable[sbt.Configuration],Option[java.net.URL])sbt.Artifact" id="7400">Artifact</a>(<a href="#17381" title="=&gt; java.lang.String">gsvideoName</a>, <a href="#17382" title="=&gt; java.lang.String">gsvideoArtifactExt</a>, <a href="#17382" title="=&gt; java.lang.String">gsvideoArtifactExt</a>, <a title="object None" id="501">None</a>, <a title="object Nil" id="306">Nil</a>, <a title="(java.net.URL)Some[java.net.URL]" id="282">Some</a>(<a href="#17386" title="=&gt; java.net.URL">gsvideoURL</a>))

  <span class="keyword">def</span> <a title="=&gt; sbt.NameFilter" id="17394">gsvideoFilter</a>: <a title="sbt.NameFilter" id="8230">NameFilter</a> = <a href="#6180" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;gsvideo/library/gsvideo.jar&quot;</a>
  <span class="keyword">def</span> <a title="=&gt; sbt.Path" id="17395">gsvideoZip</a> = <a href="#6180" title="(sbt.Configuration)sbt.Path">configurationPath</a>(<a href="#17384" title="=&gt; sbt.Configuration">gsvideoConf</a>)  <span title="(String)sbt.Path">/</span> <a href="#17383" title="=&gt; String">gsvideoArtifactName</a>
  
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; GSVideoProject.this.Task" id="17396">updateAction</a> = <a href="#17397" title="=&gt; GSVideoProject.this.Task">gsvideoExtract</a> <a title="(GSVideoProject.this.ManagedTask*)GSVideoProject.this.Task" id="12593">dependsOn</a>(<span class="keyword">super</span>.<a title="=&gt; GSVideoProject.this.Task" id="12825">updateAction</a>)
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="GSVideoProject.this.Task" id="17398">gsvideoExtract</a> = <a href="#6180" title="(=&gt; Option[String])GSVideoProject.this.Task" id="12614">task</a> {
    <a title="(sbt.Logger)((java.io.File) =&gt; Option[String])Option[String]" id="16329">tempDirectory</a>(<a href="#6180" title="=&gt; sbt.Logger">log</a>) {  <a title="java.io.File" id="18775">temp</a> =&gt; <a title="object sbt.Control" id="11846">Control</a>.<a title="(Either[String,scala.collection.Set[sbt.Path]])((scala.collection.Set[sbt.Path]) =&gt; Option[String])Option[String]" id="18796">thread</a>(<a title="(sbt.Path,sbt.Path,sbt.NameFilter,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]]" id="16312">unzip</a>(<a href="#17395" title="=&gt; sbt.Path">gsvideoZip</a>, <a title="object sbt.Path" id="10136">Path</a>.<a title="(java.io.File)sbt.Path" id="13897">fromFile</a>(<a href="#18775" title="java.io.File">temp</a>), <a href="#17394" title="=&gt; sbt.NameFilter">gsvideoFilter</a>, <a href="#6180" title="=&gt; sbt.Logger">log</a>))(<a href="#17399" title="(scala.collection.Set[sbt.Path])Option[String]">copyExtracted</a>) }
  }
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(scala.collection.Set[sbt.Path])Option[String]" id="17399">copyExtracted</a>(<a title="scala.collection.Set[sbt.Path]" id="18909">files</a>: scala.collection.<span title="scala.collection.Set[sbt.Path]">Set</span>[Path]): <a title="Option[String]" id="893">Option</a>[String] = <span title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]] with Product">copyFlat</span>(<a href="#18909" title="scala.collection.Set[sbt.Path]">files</a>, <a href="#6180" title="(sbt.Configuration)sbt.Path">configurationPath</a>(<span title="object sbt.Configurations">Configurations</span>.<a title="=&gt; sbt.Configuration" id="17406">Compile</a>), <a href="#6180" title="=&gt; sbt.Logger">log</a>).<span title="=&gt; Either.LeftProjection[String,scala.collection.Set[sbt.Path]]">left</span>.<span title="=&gt; Option[String]">toOption</span>
}
<span class="keyword">trait</span> <a title="trait VideoProject extends sbt.BasicScalaProject with spde.SpdeProject with spde.GSVideoProject with ScalaObject" id="6181">VideoProject</a> <span class="keyword">extends</span> <a href="SpdeProject.scala.html#6171" title="spde.SpdeProject">SpdeProject</a> <span class="keyword">with</span> <a href="#6180" title="spde.GSVideoProject">GSVideoProject</a>
{
  <span class="keyword">val</span> <a title="sbt.ModuleID" id="18915">spde_video</a> = <a href="#6181" title="implicit sbt.ManagedProject.toGroupID : (String)sbt.GroupID" class="string">&quot;us.technically.spde&quot;</a> <a title="(String)sbt.GroupArtifactID" id="13840">%%</a> <span title="java.lang.String(&quot;spde-video&quot;)" class="string">&quot;spde-video&quot;</span> <span title="(String)sbt.ModuleID">%</span> <a href="SpdeProject.scala.html#13127" title="=&gt; VideoProject.this.Property[String]">spdeVersion</a>.<a title="=&gt; String" id="12749">value</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="18917">appletClass</a> = <span title="java.lang.String(&quot;ProxiedVideoApplet&quot;)" class="string">&quot;ProxiedVideoApplet&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="18918">proxyClass</a> = <span title="java.lang.String(&quot;DrawVideoProxy&quot;)" class="string">&quot;DrawVideoProxy&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; List[java.lang.String]" id="18919">imports</a> = <span title="java.lang.String(&quot;spde.video._&quot;)" class="string">&quot;spde.video._&quot;</span> <a href="#18933" title="(java.lang.String)List[java.lang.String]">::</a> <span title="java.lang.String(&quot;codeanticode.gsvideo._&quot;)" class="string">&quot;codeanticode.gsvideo._&quot;</span> <a href="#18934" title="(java.lang.String)List[java.lang.String]">::</a> <span class="keyword">super</span>.<a href="SpdeProject.scala.html#13152" title="=&gt; List[java.lang.String]">imports</a>
}
<span class="keyword">class</span> <a title="class SampleVideoProject extends spde.DefaultVideoProject with spde.SampleProject with ScalaObject" id="6182">SampleVideoProject</a>(<a title="sbt.ProjectInfo" id="18951">info</a>: <span title="sbt.ProjectInfo">ProjectInfo</span>) <span class="keyword">extends</span> <a href="#6179" title="spde.DefaultVideoProject">DefaultVideoProject</a>(<a href="#18951" title="sbt.ProjectInfo">info</a>) <span class="keyword">with</span> <a href="#6183" title="spde.SampleProject">SampleProject</a>
<span class="keyword">trait</span> <a title="trait SampleProject extends sbt.BasicScalaProject with spde.VideoProject with ScalaObject" id="6183">SampleProject</a> <span class="keyword">extends</span> <a href="#6181" title="spde.VideoProject">VideoProject</a>
{
  <span class="keyword">def</span> <a title="=&gt; sbt.Path" id="18946">sampleDirectory</a>: <a title="sbt.Path" id="10135">Path</a> = <a href="#6183" title="implicit sbt.Project.path : (String)sbt.Path" id="12489" class="string">&quot;data&quot;</a>
  <span class="keyword">def</span> <a title="=&gt; sbt.Path" id="18947">sampleVideo</a> = <a href="#18946" title="=&gt; sbt.Path">sampleDirectory</a> <span title="(String)sbt.Path">/</span> <span title="java.lang.String(&quot;station.mov&quot;)" class="string">&quot;station.mov&quot;</span>
  <span class="keyword">def</span> <a title="=&gt; java.lang.String" id="18948">sampleFilter</a> = <span title="java.lang.String(&quot;gsvideo/examples/Movie/Loop/data/station.mov&quot;)" class="string">&quot;gsvideo/examples/Movie/Loop/data/station.mov&quot;</span>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="=&gt; sbt.NameFilter" id="18949">gsvideoFilter</a> = <span class="keyword">super</span>.<a href="#17394" title="=&gt; sbt.NameFilter">gsvideoFilter</a> <a title="(sbt.NameFilter)sbt.NameFilter" id="13845">|</a> <a href="#6183" title="implicit sbt.Project.filter : (String)sbt.NameFilter">sampleFilter</a>
  <span class="keyword">override</span> <span class="keyword">def</span> <a title="(scala.collection.Set[sbt.Path])Option[String]" id="18950">copyExtracted</a>(<a title="scala.collection.Set[sbt.Path]" id="18965">files</a>: scala.collection.<span title="scala.collection.Set[sbt.Path]">Set</span>[Path]) =
  {
    <span class="keyword">val</span> <a href="#14780" title="(Iterable[sbt.Path], Iterable[sbt.Path])" id="1323">(</a><a href="#18967" title="Iterable[sbt.Path]" id="14780">sample</a>, <a href="#18967" title="Iterable[sbt.Path]" id="14782">libs</a>) = <a href="#18965" title="scala.collection.Set[sbt.Path]">files</a>.<a title="((sbt.Path) =&gt; Boolean)(Iterable[sbt.Path], Iterable[sbt.Path])" id="13699">partition</a>(<a title="sbt.Path" id="18971">path</a> =&gt; <a href="#6183" title="implicit sbt.Project.filter : (String)sbt.NameFilter" class="string">&quot;station.mov&quot;</a>.<a title="(java.io.File)Boolean" id="13844">accept</a>(<a href="#18971" title="sbt.Path">path</a>.<a title="=&gt; java.io.File" id="13864">asFile</a>))
    <span title="(Iterable[sbt.Path],sbt.Path,sbt.Logger)Either[String,scala.collection.Set[sbt.Path]] with Product">copyFlat</span>(<a href="#14780" title="Iterable[sbt.Path]">sample</a>, <a href="#18946" title="=&gt; sbt.Path">sampleDirectory</a>, <a href="#6183" title="=&gt; sbt.Logger">log</a>).<span title="=&gt; Either.LeftProjection[String,scala.collection.Set[sbt.Path]]">left</span>.<span title="=&gt; Option[String]">toOption</span> <a title="(=&gt; Option[String])Option[String]" id="16244">orElse</a> <span class="keyword">super</span>.<a href="#17399" title="(scala.collection.Set[sbt.Path])Option[String]">copyExtracted</a>(<a title="(sbt.Path*)scala.collection.immutable.Set[sbt.Path]" id="5931">Set</a>() <a title="(Iterable[sbt.Path])scala.collection.immutable.Set[sbt.Path]" id="18997">++</a> <a href="#14782" title="Iterable[sbt.Path]">libs</a>)
  }
}

        </pre>
    </body>
</html>